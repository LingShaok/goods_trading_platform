(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4bbe991f"],{"0082":function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"leader-wrap"},[t("van-cell-group",[t("van-field",{attrs:{label:"姓名",placeholder:"请输入姓名",disabled:""},model:{value:e.userInfo.studentName,callback:function(a){e.$set(e.userInfo,"studentName",a)},expression:"userInfo.studentName"}}),t("van-field",{attrs:{label:"账号",placeholder:"请输入账号",disabled:""},model:{value:e.userInfo.userNumber,callback:function(a){e.$set(e.userInfo,"userNumber",a)},expression:"userInfo.userNumber"}}),t("van-field",{attrs:{label:"邮箱",placeholder:"请输入邮箱"},model:{value:e.userInfo.email,callback:function(a){e.$set(e.userInfo,"email",a)},expression:"userInfo.email"}}),t("van-field",{attrs:{label:"地址",placeholder:"请输入地址"},model:{value:e.userInfo.address,callback:function(a){e.$set(e.userInfo,"address",a)},expression:"userInfo.address"}}),t("van-field",{attrs:{label:"电话",placeholder:"请输入电话"},model:{value:e.userInfo.phone,callback:function(a){e.$set(e.userInfo,"phone",a)},expression:"userInfo.phone"}}),t("van-field",{attrs:{name:"uploader",label:"头像上传"},scopedSlots:e._u([{key:"input",fn:function(){return[t("van-uploader",{attrs:{"after-read":e.afterRead},model:{value:e.uploader,callback:function(a){e.uploader=a},expression:"uploader"}})]},proxy:!0}])})],1),t("van-button",{staticClass:"btn",attrs:{round:"",block:"",type:"info"},on:{click:e.modify}},[e._v("修改")])],1)},o=[],s=(t("e7e5"),t("d399")),r=t("bc3a"),u=t.n(r),l={data:function(){return{userInfo:[],avatar:"",uploader:[]}},computed:{},watch:{},created:function(){this.getMyInfo()},methods:{getMyInfo:function(){var e=this;u.a.get(this.$8181+"/user/v1/getPersonalCenter",{}).then((function(a){200==a.status&&(e.userInfo=a.data.result,e.avatar=e.$8181+e.userInfo.avatar)})).catch((function(e){console.log(e)}))},modify:function(){var e=this;u.a.post(this.$8181+"/user/v1/updateStuInfo",this.userInfo).then((function(a){200==a.status?(e.$toast.success("修改成功"),e.userInfo=a.data.result,e.avatar=e.$8181+e.userInfo.avatar,e.getMyInfo(),setTimeout((function(){e.$router.push({path:"/my"})}),1e3)):e.$toast.fail(a.message)})).catch((function(e){s["a"].fail("请检查邮箱或电话格式"),console.log(e)}))},afterRead:function(e){var a=this;console.log(e);var t=new FormData;t.append("picture",e.file),u.a.post(this.$8181+"/userBaseInfo/v1/uploadAvatarPic",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){200===e.status&&(console.log(e.data.result),a.userInfo.avatar=e.data.result)})).catch((function(e){console.log(e)}))}}},c=l,f=(t("3dd5"),t("2877")),i=Object(f["a"])(c,n,o,!1,null,"490fa124",null);a["default"]=i.exports},"3dd5":function(e,a,t){"use strict";t("96b7")},"96b7":function(e,a,t){}}]);